{% extends "base.html" %}
{% block content %}
<main class="admin-section">
    <h2>Manage Requests</h2>
    <table class="admin-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Book Title</th>
                <th>Author</th>
                <th>Additional Info</th>
                <th>Account</th>
                <th>Date Requested</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for request in all_requests %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ request.book_name }}</td>
                <td>{{ request.author_name }}</td>
                <td>{{ request.additional_info }}</td>
                <td>{{ request.account }}</td>
                <td>{{ request.date_requested.strftime('%Y-%m-%d %H:%M:%S') if request.date_requested else 'N/A' }}</td>
                <td>
                    <a href="{{ url_for('delete_request', request_id=request.id) }}"
                       class="admin-btn delete"
                       onclick="return confirm('Do you want to delete this request?');">
                       Delete
                    </a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="7" style="text-align:center;">No requests found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</main>
{% endblock %}
