{% extends "base.html" %}

{% block content %}
<main class="library-container">
    <h2 class="library-header">Library</h2>

    <!-- Search Bar -->
    <form method="get" action="{{ url_for('books') }}" class="search-form">
        <input 
            type="text" 
            name="search" 
            placeholder="Search a book..." 
            value="{{ search }}" 
            class="search-input">
        <button type="submit" class="search-btn">Search</button>
    </form>

    <!-- Book Cards -->
    <div class="book-list">
        {% if books %}
            {% for book in books %}
                <div class="book-card">
                    <h3 class="book-title">{{ book.book_name }}</h3>
                    <p class="book-author">by {{ book.author_name }}</p>
                    <p class="book-desc">{{ book.content }}</p>
                </div>
            {% endfor %}
        {% else %}
            <p>No books found.</p>
        {% endif %}
    </div>

    <!-- Pagination -->
    <div class="pagination">
        {% if page > 1 %}
            <a href="{{ url_for('books', page=page-1, search=search) }}" class="pagination-btn">⟵ Previous</a>
        {% else %}
            <button class="pagination-btn disabled" disabled>⟵ Previous</button>
        {% endif %}

        {% if page < total_pages %}
            <a href="{{ url_for('books', page=page+1, search=search) }}" class="pagination-btn">Next ⟶</a>
        {% else %}
            <button class="pagination-btn disabled" disabled>Next ⟶</button>
        {% endif %}
    </div>

    <div class="page-info">
        Page {{ page }} of {{ total_pages }}
    </div>
</main>
{% endblock %}
